<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Week 0 - All About Money - The Project Structure</title>
  <meta name="description" content="So far in this series, I’ve been talking about concepts related to re-building my mobile app - the why, what and how - and haven’t shown how I’d start implem...">
  <meta name="google-translate-customization" content="b9870a0c7376df54-aa35852016e6a5cc-ga0a0d80f6c171f17-e"></meta>
  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://krishna.nadiminti.me/2015/08/29/week-0-all-about-money-the-project-structure/">
  <link href="/images/favicon.png" rel="icon">
  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
  <link rel="alternate" type="application/rss+xml" title="World of Dualities" href="http://krishna.nadiminti.me/feed.xml">
  <link rel="alternate" type="application/atom+xml" title="World of Dualities" href="http://krishna.nadiminti.me/atom.xml" />
</head>


  <body>
    <div class="container-fluid">
      <div class="row">

            <div class="col-md-12 navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-collapse collapse navbar-inverse-collapse">
        <ul class="nav navbar-nav navbar-left">
          <li><a href="/">Home</a></li>
          
            
              <li><a href="/about/">About</a></li>
            
          
            
          
            
          
            
          
            
          

<!--           <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Pages<b class="caret"></b></a>
            <ul class="dropdown-menu">
            
              
                <li><a href="/about/" style="text-transform : uppercase;">About</a></li>
              
            
              
            
              
            
              
            
              
            
            </ul>
          </li>
 -->        </ul>

        <ul class="nav navbar-nav navbar-right left-syms">
          <li><a href="//linkedin.com/in/krishnanadiminti" target="_blank"><i class="fa fa-linkedin"></i> <span>Linkedin</span></a></li>
          <li><a href="//github.com/krishna-nadiminti" target="_blank"><i class="fa fa-github"></i> <span>Github</span></a></li>
          <li><a href="//twitter.com/knadiminti" target="_blank"><i class="fa fa-twitter"></i> <span>Twitter</span></a></li>
          <li><a href="http://krishna.nadiminti.me/atom.xml" target="_blank"><i class="fa fa-rss"></i> <span>RSS Feed</span></a></li>
        </ul>
      </div>
    </div>


        <div class="col-md-12 blog-theme-class">
          <!-- Top Blog Header -->
          <div class="row jumb-bot">
            <div class="col-md-1">
              <div class="clip-circle-avatar avatar-jumbo-align"></div>
            </div>
            <div class="col-md-10">
              <div class="jumbotron jumb-bot-jumbu">
                <h1>World of Dualities</h1>
                <p>Random ramblings of a software geek.
</p>
              </div>
            </div>
            <div class="col-md-1"></div>
          </div>
        </div>

        <div class="col-md-12">
            <div class="row">
	<div class="col-md-1"></div>
	<div class="col-md-10">

	  	
	    <h1>Week 0 - All About Money - The Project Structure</h1>
	    <div id="google_translate_element" style="padding-right: 27px;float: left;"></div><script type="text/javascript">
			function googleTranslateElementInit() {
  				new google.translate.TranslateElement({pageLanguage: 'en', layout: google.translate.TranslateElement.InlineLayout.SIMPLE}, 'google_translate_element');
				}
		</script><script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
        
	    <p class="post-meta">Aug 29, 2015</p>

	   
	  	<article class="blog-post-small blog-post-content">
	    	<p>So far in this series, I’ve been talking about concepts related to re-building my mobile app - the why, what and how - and haven’t shown how I’d start implementing it. This post is about just that - the project/solution structure and how I’ve set it up in Visual Studio so I can build the rest of the app.</p>

<div class="aside">

  <p>This post is part of a series on my journey rebuilding my app and learning a lot of new stuff. Other posts in the series:</p>

  <h4 id="series-all-about-money---a-journey-to-build-a-mobile-app">Series: All About Money - A journey to build a mobile app</h4>

  <ul>
    <li><a href="/2015/08/18/an-experiment-with-developing-a-mobile-app-in-the-open/">An experiment with developing a mobile app in the open</a></li>
  </ul>

  <h5 id="week-0">Week 0</h5>
  <ul>
    <li><a href="/2015/08/23/week-0-all-about-money-the-state-of-the-app/">The state of the app</a></li>
    <li><a href="/2015/08/25/week-0-all-about-money-the-first-xplat-release/">The goal: first x-platform release</a></li>
    <li><a href="/2015/08/27/week-0-all-about-money-functional-ddd-personal-finance/">Thinking functional and DDD - in the personal finance tracking context</a></li>
    <li><a href="/2015/08/29/week-0-all-about-money-the-project-structure/">The new Project structure</a></li>
    <li>Design of the existing app</li>
  </ul>

  <h5 id="week-1">Week 1</h5>
  <ul>
    <li>UI and wireframes</li>
  </ul>

  <p><sub> …   more to come  … <sub></sub></sub></p>

  <h5 id="week-n">Week n</h5>
  <ul>
    <li>The final push to release</li>
  </ul>

</div>

<p>Given I plan to target Windows, and Android for this next release, and I’m using Xamarin and MVVMCross, I’ve factored out the common code into PCLs (portable class libraries). As of now, my project structure looks like this:</p>

<p class="center"><img src="/images/AAM/Project-Structure-1.png" alt="Initial Project Structure" /></p>

<p>I’ve created the <code>Money.Windows.UI</code> and <code>Money.Droid.UI</code> projects - that represent the UI for the respective platforms (and includes the views for tablets and phones) - in C#, because I had a bunch of problems using the latest version of F# (v4.0 at the time of writing) with the latest version of Visual Studio (2015) and Xamarin (v 3.11.837). The tooling with Xamarin just didn’t support the latest F# targets in VS 2015, and VS doesn’t natively include F# project templates for creating WinRT XAML projects. (I’d imagine I could hack together something to make it work - but I’d lose a lot of tooling support - and for the UI aspects, I decided to continue using C# and get the support from better tools).</p>

<p>The <code>Money.Domain</code> project contains the domain model - for the command-side of CQRS and the intent is to have the command handlers and the domain events in this project.</p>

<p>The <code>Money.Data</code> project is where I plan to add the event handlers which store the data as a stream of events to a simple JSON file store (looking at <a href="https://github.com/NEventStore/NEventStore">NEventStore</a> for this - but it lacks PCL support; I might have to add it in if possible without distracting me too much from this project);.</p>

<p>I have a data generation aspect - where I generate fake/demo data (possible some TransactionCreated events) - which will serve as the initial starting point for users trying out the app in the ‘demo’ mode where it already shows various screens filled in with some canned data. The code for this will probably live in the Money.Data project.</p>

<p>The <code>Money.Queries</code> project is for the read-side of CQRS. I’m not sure if it is worth separating the read and write sides - but it helps me avoid accidentally falling back to regular N-tier style design where reading/writing often tends to share the same classes to interact with the data store.</p>

<p>With this project structure, the current dependency graph looks as follows:</p>

<p class="center"><img src="/images/AAM/Project-Dependencies-1.png" alt="Initial Project Dependencies" /></p>

<p>The UI projects will be the entry points into the app. The platform specific UI will call into services / view models from the common UI - which will then issue appropriate commands and queries that either directly interact with the data store or process the commands via the domain model to generate events which will be handled by classes in the data store to persist the event stream.</p>

<p>With this structure in place, I can now proceed to build out the rest of the application. I do want to reuse a lot of the UI elements and UI-related infrastructure code from the previous version of the solution (the Windows 8 app). Also, a lot of the read-side code will probably be just a straight port from C# to F# - given the C# code in that area is already portable (as in PCL) and written in a functional-style.</p>

<p>In the next post, I’ll describe the project structure of the existing solution to put future posts in context - whenever I refer to code-snippets / classes from the existing solution.</p>

<p>Soon, I also plan to push the code to github, so those following the series can look at the code as well.</p>

<p>Eventually, I intend to do a comparison of the new language + architecture with the existing solution.</p>

	  	</article>
	  	
	  	
	  	
<!-- Output author details if some exist. -->


<section>
  <h1>Comments</h1>
  <div id="disqus_thread"></div>
</section>

<script type="text/javascript">
    var disqus_shortname = 'krishna-nadiminti';
    
      
      // var disqus_developer = 1;
      var disqus_identifier = 'http://krishna.nadiminti.me/2015/08/29/week-0-all-about-money-the-project-structure/';
      var disqus_url = 'http://krishna.nadiminti.me/2015/08/29/week-0-all-about-money-the-project-structure/';
      var disqus_script = 'embed.js';
    

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>


  <ul class="pager">
    
    <li class="previous"><a class="basic-alignment left"
      href="/2015/08/27/week-0-all-about-money-functional-ddd-personal-finance/" title="Previous Post:
      Week 0 - All About Money - Thinking About Design - Functional And Domain Driven">&laquo; Week 0 - All About Money - Thinking About Design - Functional And Domain Driven</a></li>
    
    <!--li><a href="/blog/archives">Blog Archives</a></li-->
    
    <li class="next"><a class="basic-alignment right" href="/2015/09/23/week-1-all-about-money-localisation-ui-labels/"
      title="Next Post: Week 1 - All About Money - UI Text Localisation">Week 1 - All About Money - UI Text Localisation
      &raquo;</a></li>
    
  </ul>

	</div>
	<div class="col-md-1"></div>
</div>
        </div>

        <div class="col-md-12">
          <div class="row">
            <div class="col-md-1"></div>
            <div class="col-md-10">
              


<div class="twitter_share">
	<a href="https://twitter.com/share" class="twitter-share-button" data-via="knadiminti" data-hashtags="sailsjs">Tweet</a>
	<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
</div>



<div class="linkedin_share">
	<script src="//platform.linkedin.com/in.js" type="text/javascript">
	  lang: en_US
	</script>
	<script type="IN/Share" data-counter="right"></script>
</div>



            </div>
            <div class="col-md-1"></div>
          </div>
        </div>

        <div class="col-md-12">
          <!-- Footer -->
            <div class="row footer">
              <div class="col-md-1"></div>
              <div class="col-md-10">
                  <div class="row">
                    <div class="col-md-3">
                      <h4>Recent Posts</h4>
                        <ul class="recent-posts">
                        
                          <li><a href="/2015/09/23/week-1-all-about-money-localisation-ui-labels/">Week 1 - All About Money - UI Text Localisation</a></li>
                        
                          <li><a href="/2015/08/29/week-0-all-about-money-the-project-structure/">Week 0 - All About Money - The Project Structure</a></li>
                        
                          <li><a href="/2015/08/27/week-0-all-about-money-functional-ddd-personal-finance/">Week 0 - All About Money - Thinking About Design - Functional And Domain Driven</a></li>
                        
                          <li><a href="/2015/08/25/week-0-all-about-money-the-first-xplat-release/">Week 0 - All About Money - The First X-Platform Release</a></li>
                        
                        </ul>
                    </div>
                    <div class="col-md-3 col-md-offset-1">
                    </div>
                    <div class="col-md-3 col-md-offset-1">
                    </div>
                  </div>
              </div>
              <div class="col-md-1"></div>
            </div>
          <!-- End Footer -->

        </div>

        <div class="col-md-12">
        			<div class="row end_footer">
              <div class="col-md-1"></div>
              <div class="col-md-6">
                <p>Copyright &copy; World of Dualities 2015</p>
              </div>
              <div class="col-md-4"></div>
              <div class="col-md-1"></div>
            </div>

        </div>

            <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="/js/prettify.js"></script>
    <script>
      [].forEach.call(document.getElementsByTagName("pre"), function(el) {
        el.classList.add("prettyprint");
      });

      prettyPrint();
    </script>
    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-66680723-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>

      </div>
    </div>
  </body>

</html>
